# **软件架构报告**



## **1. 介绍**

本项目为基于网页的集成开发环境 (IDE)，旨在为用户提供一个集成化的学习和开发平台。系统包含多项功能模块，如 PPT 展示、在线代码执行、协作编码、笔记记录、学习进度跟踪以及 AI 助手服务等。为了确保系统高效运行和便于后续扩展，架构设计采用了前后端分离、模块化与微服务架构相结合的方案。

## **2. 系统总体架构**

整个系统主要分为三大层次：前端展示层、后端服务层及数据存储层，各层次之间通过标准化的接口进行通信，保证功能模块间的解耦与协同。

### **2.1 总体架构图**

                +-----------------------------------+
                |           用户终端                |
                |      (Web 浏览器/移动设备)         |
                +----------------+------------------+
                                 │
                          HTTP/HTTPS 请求
                                 │
                                 ▼
                +-----------------------------------+
                |         前端应用层                |
                | (PPT展示、代码执行、协作编码、记笔记、|
                |    学习进度、AI助手)               |
                +----------------+------------------+
                                 │
                          REST API / WebSocket
                                 │
                                 ▼
                +-----------------------------------+
                |         后端服务层                |
                | (用户认证、API 网关、代码执行、     |
                |  实时协作、PPT管理、AI 接入等)      |
                +----------------+------------------+
                                 │
                          数据库连接/第三方 API
                                 │
                                 ▼
                +-----------------------------------+
                |         数据存储层                |
                | (关系型 & 非关系型数据库、         |
                |   文件存储系统)                   |
                +-----------------------------------+

该图展示了用户通过浏览器与前端交互，前端再通过 RESTful API 与后端进行数据通信，后端统一处理业务逻辑并与数据存储及第三方接口（如 AI 接口）交互。

## **3. 前端架构**

前端采用现代 JavaScript 框架 (Vue) 构建，通过模块化开发确保各功能组件独立且高内聚低耦合。

### **3.1 前端模块图**

                   +---------------+
                   | PPT 展示组件  |
                   +-------+-------+
                           │
                           ▼
      +--------------+    +-----------------+    +-------------------+
      | 代码编辑器   |<-->| 协作编码模块    |<--->| 实时消息推送模块   |
      +--------------+    +-----------------+    +-------------------+
              │
              ▼
      +----------------+    +------------------+
      | 记笔记/知识管理|    | 学习进度追踪模块 |
      +----------------+    +------------------+
                           │
                           ▼
                   +---------------+
                   |   AI 助手界面 |
                   +---------------+

PPT 展示组件提供在线 PPT 演示与交互，支持加载多媒体资料。代码编辑器与协作编码模块支持在线代码编辑、语法高亮、自动补全，并通过 WebSocket 实现多人实时协同编辑。实时消息推送模块负责各客户端之间的数据同步，确保协同编程时的即时性。记笔记/知识管理模块允许用户在开发时记录笔记，形成知识沉淀。学习进度追踪模块实时展示用户的学习与项目开发进度。AI 助手界面集成 AI 服务接口，为用户提供代码建议、错误诊断等辅助功能。

## **4. 后端架构**

后端采用微服务架构，各业务模块独立部署，通过 API 网关集中管理请求，并使用消息队列与异步处理技术保证高效响应和解耦扩展。

### **4.1 后端模块图**

                +------------------------+
                |       API 网关         |
                +------------------------+
                          │
       +------------------+-------------------+
       │                  │                   │
       ▼                  ▼                   ▼
    +----------+    +---------------+    +----------------+
    | 用户认证 |    | 代码执行服务  |    | 协作实时服务 |
    +----------+    +---------------+    +----------------+
                          │                   │
                          ▼                   ▼
                 +--------------------------+
                 | PPT及文件管理服务        |
                 +--------------------------+
                          │
                          ▼
                 +--------------------------+
                 | 数据存储与记录服务       |
                 +--------------------------+
                          │
                          ▼
                 +--------------------------+
                 |      AI 接入服务         |
                 +--------------------------+
API 网关作为所有前端请求的统一入口，负责请求路由、鉴权与流量控制。用户认证模块处理用户登录、注册及权限校验，确保系统安全。代码执行服务采用沙箱（例如 Docker 容器）技术实现安全的在线代码运行。协作实时服务维护多人协同编辑时的实时数据同步，借助消息队列和 WebSocket 通信。PPT及文件管理服务负责管理 PPT 文档及相关资源，支持版本控制与在线预览。数据存储与记录服务整合关系型与非关系型数据库，负责存储用户、协作、笔记及进度等数据。AI 接入服务对接第三方 AI 平台或内部 AI 模型，处理自然语言查询、代码建议等任务。

## 5. 数据存储架构

系统数据存储层设计采用多存储方案，以满足不同数据结构与访问需求。

                +------------------------+
                |   关系型数据库         |
                | (用户、项目、进度数据)  |
                +------------------------+
                          │
                          ▼
                +------------------------+
                |   非关系型数据库       |
                | (实时协作、日志、笔记)  |
                +------------------------+
                          │
                          ▼
                +------------------------+
                |   文件存储系统         |
                | (PPT、图片、资源文件)   |
                +------------------------+

关系型数据库用于存储结构化数据，如用户信息、项目管理数据和学习进度。非关系型数据库存储实时交互数据、协作日志和笔记等半结构化信息，保证高效读写。文件存储系统管理大文件 (PPT、图像、视频等) 的存储与快速访问，支持 CDN 加速与备份。

## **6. 通信与集成**

前端与后端采用 RESTful API 进行数据通信，同时利用 WebSocket 实现实时协作和消息推送。后端各微服务间通过 HTTP/HTTPS 与消息队列 (如 Kafka、RabbitMQ) 进行数据同步和异步处理，确保系统高性能和容错性。系统与外部 AI 接口及容器服务平台通过标准化 API 完成对接，保证安全稳定的数据交互。

### **6.2 API 网关功能**

API 网关充当系统的安全防线与统一请求入口，主要功能包括鉴权、路由、流量控制以及日志和监控。所有请求在进入后端服务前均经过严格的身份验证，确保数据安全。

## **7. 安全性、扩展性与容错**

安全设计方面，前后端通信均采用 HTTPS 加密。API 网关及用户认证模块对所有请求进行严格身份验证，并采用权限控制、防火墙等措施保护关键数据。在线代码执行服务采用沙箱机制，防止恶意代码影响整个系统。

系统扩展性方面，通过前后端分离和微服务架构，允许系统各个部分独立扩展。模块间基于标准接口通信，使新功能能以独立服务形式集成进现有系统。数据库则采用主从复制与分库分表策略，应对大数据量场景下的高性能需求。

容错设计采用异步消息队列，在部分服务故障时确保请求不会丢失，等待服务恢复后继续处理。服务之间通过超时、重试机制保障数据传输可靠，各服务部署在容器或云平台上，实现自动伸缩和快速故障转移。

